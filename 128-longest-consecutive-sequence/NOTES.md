Very good question on unoin find algorithm
​
Basically, establish some parental relationship and use union find (fast find) for O(n) operations.
​
Lovely fundamental for union find idea in general. it is not just a collection, it can even be a sequence. Any relation can be unionised and then found parent of.